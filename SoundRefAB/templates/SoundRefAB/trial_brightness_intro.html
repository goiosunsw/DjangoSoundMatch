{% extends 'SoundRefAB/base.html' %}


{% load staticfiles %}

{% block head_block %}
<script type="text/javascript" src="{% static 'SoundRefAB/htmlSoundGoodies.js' %}"></script>

<script type="text/javascript">
    
function getAnswer() {
    var i, r = document.getElementsByName('answer');
    for (i = 0; i < r.length; i++) {
        if (r[i].checked) return r[i].value;
    }
    return '';
}
    
    
validateFormOnSubmit = function(theForm) {
    var valid = true;
    if (!validateAudio(theForm)){
        return false;
    }
    if (getAnswer() == "") {
        alertModal("Please answer the question!").showAlert();
        $('#answer').closest('.panel').removeClass('panel-default').addClass('panel-warning');
        valid = false;
    }
    return valid;
};
    //$(window).on("load", waitDlg.hidePleaseWait);
</script>

{% endblock %}

{% block body_block %}



<h1>Brightness adjust</h1>

<p>The next task is similar, but we now ask you to adjust the second sound so that it sounds <b>twice as bright</b> as the reference.</p>


    <div class="row">
      <div class="col-sm-6">
          <div class="panel panel-default">
            <div class="panel-heading"><h3>Tone 1</h3></div>
            <div class="panel-body">
                <audio id="audio0" src="{% static 'SoundRefAB/pg_brightness_adj_bright.wav' %}">
                    Your browser does not support the audio element.
                </audio>
                <input type="button" class="btn btn-default"  value="Play"/>
          
            </div>
          </div>
          
      </div>
    </div>


<p>... should sound <b>brighter</b> than the next sound:</p>

    <div class="row">
      <div class="col-sm-6">
          <div class="panel panel-default">
            <div class="panel-heading"><h3>Tone 2</h3></div>
            <div class="panel-body">
                <audio id="audio0" src="{% static 'SoundRefAB/pg_brightness_adj_dark.wav' %}">
                    Your browser does not support the audio element.
                </audio>
                <input type="button" class="btn btn-default"  value="Play"/>
          
            </div>
          </div>
          
      </div>
    </div>

<p> Up to you to define what  <b>twice as bright</b> means to you!</p>
<p> This may be more difficult, let us know with the last slider how easy you found the task.</p>

<!-- FIXME: this should become a questionnaire and data sent into the db-->
<form action="{% url 'srefab:processintro' sample_id %}" onsubmit="return validateFormOnSubmit(this)" method="post" id="brightIntroForm">
    {% csrf_token %}
    
    <input type="hidden" id="valid" value="0">
    
   <div class="row">
     <div class="col-sm-4">
         <div class="panel panel-default">
           <div class="panel-heading">Do you agree that tone 2 is brighter than tone 1?</div>
           <div class="panel-body">
                <div id="answer" class="control-group">
                    <div class="radio">
                      <label class="control-label"><input type="radio" name="answer" value="Y"> Yes</label>
                    </div>
                    <div class="radio">
                      <label class="control-label"><input type="radio" name="answer" value="N"> No</label>
                    </div>
                    <div class="radio">
                      <label class="control-label"><input type="radio" name="answer" value="U"> Unsure</label>
                    </div>
                </div>
           </div>
         </div>
         
     </div>
     <div class="col-sm-8">
         <div class="panel panel-default">
           <div class="panel-heading">Any comments?</div>
           <div class="panel-body">
                <textarea rows="4" cols="50" name="comment"></textarea>
           </div>
         </div>
         
     </div>
   </div>
   
    {% csrf_token %}
    <input style="font-size:24;width:100px;height:50px" type="submit" class="btn btn-success disabled" name="submit" value="Next" id="submit" />

</form>


{% endblock %}